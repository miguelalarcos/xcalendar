<template name="home">
    Click on the patient id:
    {{#each patients}}
        <div>
            <a class="patient" href="" _id="{{this._id}}">{{this._id}}</a> {{this.name}} {{this.surname}}
        </div>
    {{/each}}
    Click on the calendar id:
    {{#each calendars}}
        <div>
            <a class="calendar" href="" _id="{{this._id}}">{{this._id}}</a> {{this.name}}
        </div>
    {{/each}}
    {{> xcalendar calendarid='myCalendar' template="datePatient"}}
    {{> dateAskModal }}
    {{> dateUpdateAskModal}}
    {{> dateRemoveAskModal}}
</template>

<template name="xCalendarLeft">
    {{#if display this}}
        <div class="cursive">{{this}}</div>
    {{/if}}
</template>

<template name="xCalendarTop">
    {{>xCalendarButtonMinus}}
    {{>xCalendarButtonPlus}}
    {{>xCalendarButtonToday}}
    {{#if displayCancelReprogramming}}
        <a href="" id="cancelReprogramming">Cancel reprogramming</a>
    {{/if}}
    <span>
        <span class="title">{{this.calendar}}</span>
        <span><b>&nbsp;&nbsp;&nbsp;&nbsp;{{formatDateMonthYear this.date}}</b></span>
    </span>
</template>

<template name="xCalendarHead">
    {{formatDateDay this}}
</template>

<template name="dateEventTemplate">
    <div class="patient-event">
        <b><a href="" class="delete-event" style="float: right">x</a></b>
        <span style="float: right">&nbsp;&nbsp;</span>
        <b><a href="" class="reprogramming-event" style="float: right">R</a></b>
        <div class="content-patient-event">{{this.patient.name}} {{this.patient.surname}}, {{sub this.text 25}}</div>
    </div>
    <div class="ui popup">
        <div class="header">{{this.patient.name}}</div>
        <div class="content-popup">{{this.text}}</div>
    </div>
</template>

<template name="dateSlotTemplate">
    <div class="empty-slot">click para dar cita</div>
</template>

<template name="dateAskModal">
    {{#with patient}}
    <div id='dateAskModal' class="ui modal">
        <i class="close icon"></i>
        <div class="header">
            Alert!
        </div>
        <div class="content">
            <div class="description">
                <div class="ui header">Vas a dar una cita a {{this.name}}.</div>
                Observaciones: <textarea rows="4" cols="50" id="inputDateAskModal"></textarea>
                <p>Is it okay?</p>
            </div>
        </div>
        <div class="actions">
            <div class="ui black cancel button">
                No
            </div>
            <div class="ui positive right labeled icon button">
                Yes
                <i class="checkmark icon"></i>
            </div>
        </div>
    </div>
    {{/with}}
</template>

<template name="dateUpdateAskModal">
    {{#with event}}
        <div id='dateUpdateAskModal' class="ui modal">
            <i class="close icon"></i>
            <div class="header">
                Alert!
            </div>
            <div class="content">
                <div class="description">
                    <div class="ui header">Vas a dar modificar la cita para {{this.patient.name}} y fecha {{this.date}}.</div>
                    Observaciones: <textarea rows="4" cols="50" id="inputUpdateAskModal">{{this.text}}</textarea>
                    <p>Is it okay?</p>
                </div>
            </div>
            <div class="actions">
                <div class="ui black cancel button">
                    No
                </div>
                <div class="ui positive right labeled icon button">
                    Yes
                    <i class="checkmark icon"></i>
                </div>
            </div>
        </div>
    {{/with}}
</template>

<template name="dateRemoveAskModal">
    {{#with event}}
        <div id='dateRemoveAskModal' class="ui modal">
            <i class="close icon"></i>
            <div class="header">
                Alert!
            </div>
            <div class="content">
                <div class="description">
                    <div class="ui header">Vas a dar eliminar la cita para {{this.patient.name}} y fecha {{formatDate this.date}}.</div>
                    <p>Is it okay?</p>
                </div>
            </div>
            <div class="actions">
                <div class="ui black cancel button">
                    No
                </div>
                <div class="ui positive right labeled icon button">
                    Yes
                    <i class="checkmark icon"></i>
                </div>
            </div>
        </div>
    {{/with}}
</template>